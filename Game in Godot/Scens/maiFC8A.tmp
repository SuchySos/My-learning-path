[gd_scene load_steps=14 format=3 uid="uid://ce164vbaitwin"]

[ext_resource type="Script" path="res://Scripts/GridMap.gd" id="1_mwstb"]
[ext_resource type="PackedScene" uid="uid://knp0d1hhhb6m" path="res://Scens/moduleFlor.tscn" id="2_jomsg"]
[ext_resource type="PackedScene" uid="uid://21jfscbhe54g" path="res://Scens/moduleCube.tscn" id="3_24fs0"]
[ext_resource type="PackedScene" uid="uid://joqobmhkgi05" path="res://Scens/enem.tscn" id="4_4af0h"]
[ext_resource type="Shader" path="res://shader/PostProcessing.gdshader" id="4_sxml3"]
[ext_resource type="PackedScene" uid="uid://bb62gv1tngssl" path="res://Scens/player.tscn" id="5_0unr8"]
[ext_resource type="PackedScene" uid="uid://cdg2271eg141p" path="res://Scens/moduleBand.tscn" id="5_a78v6"]
[ext_resource type="Script" path="res://Scripts/playerMain.gd" id="6_5gdek"]
[ext_resource type="PackedScene" uid="uid://drhi4mqhtmlhy" path="res://Scens/flacha.tscn" id="6_73kip"]
[ext_resource type="PackedScene" uid="uid://l6y2qwcuwy48" path="res://Scens/control.tscn" id="6_wydat"]

[sub_resource type="Environment" id="Environment_xg7po"]
background_mode = 1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jwbg8"]
render_priority = 0
shader = ExtResource("4_sxml3")
shader_parameter/depth_threshold = 0.05
shader_parameter/reverse_depth_threshold = 0.25
shader_parameter/normal_threshold = 0.6
shader_parameter/darken_amount = 0.3
shader_parameter/lighten_amount = 1.5
shader_parameter/normal_edge_bias = Vector3(1, 1, 1)
shader_parameter/light_direction = Vector3(-0.96, -0.18, 0.2)

[sub_resource type="QuadMesh" id="QuadMesh_hoi82"]
material = SubResource("ShaderMaterial_jwbg8")
flip_faces = true
size = Vector2(16, 16)

[node name="main" type="Node3D"]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
texture_filter = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true
stretch_shrink = 3

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(240, 426)
render_target_update_mode = 4

[node name="GridMap" type="GridMap" parent="SubViewportContainer/SubViewport"]
script = ExtResource("1_mwstb")
modules = Array[PackedScene]([ExtResource("2_jomsg"), ExtResource("3_24fs0"), ExtResource("4_4af0h"), ExtResource("5_a78v6"), ExtResource("6_73kip")])

[node name="WorldEnvironment" type="WorldEnvironment" parent="SubViewportContainer/SubViewport"]
environment = SubResource("Environment_xg7po")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(0.866025, -0.286788, -0.409576, 7.16125e-08, -0.819152, 0.573576, -0.5, -0.496732, -0.709406, 0, 10, 0)

[node name="PostProcessing" type="MeshInstance3D" parent="SubViewportContainer/SubViewport"]
mesh = SubResource("QuadMesh_hoi82")

[node name="player" parent="SubViewportContainer/SubViewport" instance=ExtResource("5_0unr8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, 0)
script = ExtResource("6_5gdek")

[node name="Control" parent="SubViewportContainer" instance=ExtResource("6_wydat")]
layout_mode = 2
